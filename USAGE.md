# HTMLForge – Complete Usage

This document demonstrates how to generate a **fully valid, accessible HTML document**
using HTMLForge v1.0.0.

Every example in this file passes the `STRICT_HTML` validation profile.

If this document renders, it is correct.

---

## 1. Setup

```php
require __DIR__ . '/../vendor/autoload.php';

use HTMLForge\Builder\HtmlBuilder;
use HTMLForge\Builder\Elements;
use HTMLForge\Builder\DocumentBuilder;
use HTMLForge\Config\HTMLForgeConfig;
use HTMLForge\HTMLForge;
use HTMLForge\Validation\ValidationMode;
use HTMLForge\Validation\ValidationProfile;
```

---

## 2. Builders

HTMLForge uses explicit builders.
No raw HTML strings are rendered.

```php
$html = new HtmlBuilder();
$el   = new Elements($html);
$doc  = new DocumentBuilder($html);
```

---

## 3. Document-level metadata

### HTML attributes

```php
'html' => [
    'lang'  => 'en',
    'class' => 'no-js',
]
```

### Metadata and title

```php
'title' => 'HTMLForge – Complete Example',

'meta' => [
    'viewport'    => 'width=device-width, initial-scale=1',
    'description' => 'A complete HTML document generated by HTMLForge.',
],
```

---

## 4. Styles and stylesheets

Inline styles are allowed when placed in `<head>`.

```php
'styles' => 'body { margin: 0; font-family: system-ui; }',

'stylesheets' => [
    '/assets/app.css',
],
```

---

## 5. Scripts

Only external scripts are allowed in `STRICT_HTML`.

```php
'scripts' => [
    '/assets/app.js',
],
```

---

## 6. Page structure

### Header and navigation (landmarks)

```php
$header = $html->element('header', [], [
    $html->element('nav', [], [
        $html->element('ul', [], [
            $html->element('li', [], [
                $html->element('a', ['href' => '/'], ['Home']),
            ]),
            $html->element('li', [], [
                $html->element('a', ['href' => '/about'], ['About']),
            ]),
        ]),
    ]),
]);
```

---

### Main content

#### Headings and sections

```php
$article = $html->element('article', [], [

    $el->h1('HTMLForge Example'),

    $el->p('HTMLForge generates valid HTML by construction.'),

    $html->element('section', ['class' => 'features'], [
        $el->h2('Features'),

        $html->element('ul', [], [
            $html->element('li', [], ['Standards-first']),
            $html->element('li', [], ['Accessibility enforced']),
            $html->element('li', [], ['Deterministic output']),
        ]),
    ]),
]);
```

---

### Embedded content

```php
$media = $html->element('figure', [], [
    $html->element('img', [
        'src' => '/images/example.png',
        'alt' => 'Example placeholder image',
    ]),
    $html->element('figcaption', [], [
        'Image with required alt text.',
    ]),
]);
```

---

### Forms (implicit + explicit labels)

```php
$form = $html->element('form', [
    'method' => 'post',
    'action' => '/submit',
], [

    // implicit label
    $html->element('label', [], [
        'Name',
        $html->element('input', [
            'type' => 'text',
            'name' => 'name',
        ]),
    ]),

    // explicit label
    $html->element('div', [], [
        $html->element('label', ['for' => 'email'], ['Email']),
        $html->element('input', [
            'id'   => 'email',
            'type' => 'email',
            'name' => 'email',
        ]),
    ]),

    $el->button('Submit'),
]);
```

---

### Aside (complementary landmark)

```php
$aside = $html->element('aside', [], [
    $el->h2('Related'),
    $html->element('ul', [], [
        $html->element('li', [], ['Documentation']),
        $html->element('li', [], ['GitHub Repository']),
    ]),
]);
```

---

### Main layout

```php
$main = $html->element('main', [], [
    $article,
    $media,
    $form,
    $aside,
]);
```

---

### Footer

```php
$footer = $html->element('footer', [], [
    $html->element('p', [], [
        '© ',
        date('Y'),
        ' HTMLForge',
    ]),
]);
```

---

## 7. Build the document

```php
$document = $doc->document(
    bodyContent: [
        $header,
        $main,
        $footer,
    ],
    options: [
        'html' => ['lang' => 'en'],
        'title' => 'HTMLForge – Complete Example',
        'meta' => [
            'viewport' => 'width=device-width, initial-scale=1',
        ],
        'styles' => 'body { margin: 0; }',
        'scripts' => ['/assets/app.js'],
        'body' => [
            'class' => 'app',
        ],
    ]
);
```

---

## 8. Render with validation

```php
$result = HTMLForge::using(
    new HTMLForgeConfig(
        mode: ValidationMode::Strict,
        profile: ValidationProfile::STRICT_HTML
    )
)->render($document);
```

---

## 9. Handle the result

```php
if (!$result->isValid()) {
    echo $result->report->toHtml();
    exit;
}

echo $result->html;
```

---

## Guarantees

- Structural HTML correctness
- Accessibility enforcement
- Deterministic rendering
- No browser-dependent behavior

If this document renders, it is correct.

---

## Appendix: Element Coverage Matrix

This usage example exercises the following HTML element categories:

| Category            | Elements Demonstrated |
|---------------------|----------------------|
| Document root       | html, head, body     |
| Metadata            | title, meta, style, link |
| Sectioning          | header, nav, main, section, article, aside, footer |
| Headings            | h1, h2               |
| Grouping            | p, ul, li, figure, figcaption |
| Phrasing            | a, span (implicit), text nodes |
| Embedded            | img                  |
| Forms               | form, label, input, button |
| Interactive         | a, button, input     |
| Global attributes   | class, id, lang, data-* |
| Accessibility       | implicit labels, alt text, landmarks |

This matrix reflects **real validation coverage**, not theoretical support.

Elements not shown here are still supported if present in the registry.
